(this.webpackJsonphealfy=this.webpackJsonphealfy||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),i=n.n(c),s=(n(109),n(110),n(46)),o=n(17),l=n(8),j=n(55),u=n.n(j),b=n(183),d=n(2),h=function(e){var t=e.children;return Object(d.jsx)(b.a,{variant:"contained",color:"primary",children:t})},O=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){r(localStorage.getItem("name"))}),[]);return Object(d.jsxs)("nav",{className:u.a.navigation,children:[n&&Object(d.jsxs)("h2",{children:["Witaj ",n]}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"/",className:u.a.link,children:Object(d.jsx)(h,{children:"Strona g\u0142\xf3wna"})})}),Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"/register",className:u.a.link,children:Object(d.jsx)(h,{children:"Rejstracja"})})}),n?Object(d.jsx)("li",{onClick:function(){localStorage.removeItem("name"),localStorage.removeItem("token"),r(null)},children:Object(d.jsx)(h,{children:"Wyloguj"})}):Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"/login",className:u.a.link,children:Object(d.jsx)(h,{children:"Zaloguj"})})})]})]})},m=n(83),p=n.n(m),g=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){r(localStorage.getItem("name"))}),[]),Object(d.jsx)("main",{className:p.a.main,children:null===n?Object(d.jsx)("h1",{children:"Witaj w naszym serwisie zaloguj si\u0119 "}):Object(d.jsxs)("h1",{children:["Witaj ",n]})})},f=n(74),x=n.n(f),v=n(84),y=n(20),N=n(187),_=n(184),w=n(181),S=n(180),k=n(182),C=n(186),I=n(38),D=n.n(I),P=function(){var e=Object(a.useState)({firstName:"",lastName:"",birthday:new Date("2021-09-18"),login:"",password:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(l.a)(c,2),s=i[0],o=i[1],j=function(){var e=Object(v.a)(x.a.mark((function e(t){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,(n.login.length<4||n.password.length<4||n.firstName.length<4||n.lastName.length<4)&&(a=!1,o(!1)),!0!==a){e.next=11;break}return e.next=6,fetch("http://localhost:5000/users",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return c=e.sent,r({firstName:"",lastName:"",birthday:new Date("2021-09-18"),login:"",password:""}),o(!0),window.location.replace("/"),e.abrupt("return",c.json());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("main",{className:D.a.main,children:Object(d.jsxs)("form",{onSubmit:function(e){return j(e)},children:[Object(d.jsx)(_.a,{className:D.a.input,id:"outlined-basic",label:"Imi\u0119",type:"text",value:n.firstName,onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{firstName:e.target.value}))}}),Object(d.jsx)(_.a,{className:D.a.input,id:"outlined-basic",label:"Nazwisko",type:"text",value:n.lastName,onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{lastName:e.target.value}))}}),Object(d.jsx)(S.b,{dateAdapter:k.a,children:Object(d.jsx)(w.a,{label:"Data urodzenia",inputFormat:"MM/dd/yyyy",value:n.birthday,onChange:function(e){r(Object(y.a)(Object(y.a)({},n),{},{birthday:e}))},renderInput:function(e){return Object(d.jsx)(_.a,Object(y.a)({id:"outlined-basic",className:D.a.input},e))}})}),Object(d.jsx)(_.a,{className:D.a.input,id:"outlined-basic",label:"Login",type:"text",value:n.login,onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{login:e.target.value}))}}),Object(d.jsx)(_.a,{className:D.a.input,id:"outlined-basic",label:"Has\u0142o",type:"password",value:n.password,onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{password:e.target.value}))}}),s&&Object(d.jsx)(C.a,{severity:"success",className:D.a.error,children:"Pmy\u015blnie zarejstrowano"}),!1===s?Object(d.jsx)(C.a,{severity:"error",className:D.a.error,children:"B\u0142\u0119dne dane"}):null,Object(d.jsx)(N.a,{type:"submit",variant:"contained",color:"primary",children:"Zarejstruj"})]})})},T=n(60),z=n.n(T),F=function(){var e=Object(a.useState)({login:"",password:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],o=i[1];return Object(d.jsx)("main",{className:z.a.main,children:Object(d.jsxs)("form",{onSubmit:function(e){return function(e){var t=!0;(n.login.length<=4||n.password.length<=4)&&(t=!1,o(!0)),!0===t&&fetch("http://localhost:5000/users/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),localStorage.setItem("name",e.user),o(!1),window.location.reload()})),e.preventDefault()}(e)},children:[Object(d.jsx)(_.a,{className:z.a.input,id:"outlined-basic",label:"Login",type:"text",value:n.login,onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{login:e.target.value}))}}),Object(d.jsx)(_.a,{className:z.a.input,id:"outlined-basic",label:"Has\u0142o",type:"password",value:n.password,onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{password:e.target.value}))}}),s&&Object(d.jsx)(C.a,{severity:"error",className:z.a.error,children:"B\u0142\u0119dne dane"}),Object(d.jsx)(N.a,{type:"submit",variant:"contained",color:"primary",children:"Zaloguj"})]})})};var L=function(){return Object(d.jsxs)(s.a,{children:[Object(d.jsx)(O,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",component:g}),Object(d.jsx)(o.a,{path:"/register",component:P}),Object(d.jsx)(o.a,{path:"/login",component:F})]})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root")),Z()},38:function(e,t,n){e.exports={main:"register_main__3V5PD",input:"register_input__2lgPv",error:"register_error__1ojkp"}},55:function(e,t,n){e.exports={navigation:"nav_navigation__3teZH",link:"nav_link__2b_jh"}},60:function(e,t,n){e.exports={main:"login_main__hvZAY",input:"login_input__nSXkK",error:"login_error__1OaHm"}},83:function(e,t,n){e.exports={main:"home_main__3_SLx"}}},[[122,1,2]]]);
//# sourceMappingURL=main.2d9f1479.chunk.js.map